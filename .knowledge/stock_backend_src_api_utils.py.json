{"is_source_file": true, "format": "Python", "description": "Utility helpers for in-memory admin authentication, data storage, and ID generation within a FastAPI project, including functions for session management, initial data loading, and ID handling.", "external_files": ["fastapi", "uuid"], "external_methods": ["fastapi.HTTPException", "fastapi.status", "fastapi.Depends", "fastapi.security.OAuth2PasswordBearer"], "published": ["authenticate_admin_token", "generate_admin_token", "load_initial_categories", "load_initial_products", "get_next_category_id", "get_next_product_id"], "classes": [], "methods": [{"name": "str authenticate_admin_token(token: str = Depends(oauth2_scheme))", "description": "Dependency function that verifies a bearer token against in-memory sessions for admin authentication.", "scope": "", "scopeKind": ""}, {"name": "str generate_admin_token(username: str)", "description": "Creates a new session token for an admin user, stores it, and returns the token.", "scope": "", "scopeKind": ""}, {"name": "list load_initial_categories(models_module)", "description": "Returns a predefined list of demo category objects, each with an ID and name.", "scope": "", "scopeKind": ""}, {"name": "list load_initial_products(models_module)", "description": "Returns a predefined list of demo product objects with various attributes such as name, category, image URL, and quantity.", "scope": "", "scopeKind": ""}, {"name": "int get_next_category_id(categories)", "description": "Helper function to determine the next ID for categories based on current list.", "scope": "", "scopeKind": ""}, {"name": "int get_next_product_id(products)", "description": "Helper function to determine the next ID for products based on current list.", "scope": "", "scopeKind": ""}], "calls": ["uuid.uuid4", "fastapi.HTTPException", "status.HTTP_401_UNAUTHORIZED"], "search-terms": ["admin authentication", "in-memory data", "category and product initial data", "ID generation", "FastAPI utils"], "state": 2, "file_id": 6, "knowledge_revision": 24, "git_revision": "", "ctags": [{"_type": "tag", "name": "ADMIN_PASSWORD", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^ADMIN_PASSWORD = \"admin\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ADMIN_SESSIONS", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^ADMIN_SESSIONS = {}  # token: username$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "ADMIN_USERNAME", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^ADMIN_USERNAME = \"admin\"$/", "language": "Python", "kind": "variable"}, {"_type": "tag", "name": "authenticate_admin_token", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^def authenticate_admin_token(token: str = Depends(oauth2_scheme)) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(token: str = Depends(oauth2_scheme))"}, {"_type": "tag", "name": "generate_admin_token", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^def generate_admin_token(username: str) -> str:$/", "language": "Python", "typeref": "typename:str", "kind": "function", "signature": "(username: str)"}, {"_type": "tag", "name": "get_next_category_id", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^def get_next_category_id(categories) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(categories)"}, {"_type": "tag", "name": "get_next_product_id", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^def get_next_product_id(products) -> int:$/", "language": "Python", "typeref": "typename:int", "kind": "function", "signature": "(products)"}, {"_type": "tag", "name": "load_initial_categories", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^def load_initial_categories(models_module) -> list:$/", "language": "Python", "typeref": "typename:list", "kind": "function", "signature": "(models_module)"}, {"_type": "tag", "name": "load_initial_products", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^def load_initial_products(models_module) -> list:$/", "language": "Python", "typeref": "typename:list", "kind": "function", "signature": "(models_module)"}, {"_type": "tag", "name": "oauth2_scheme", "path": "/home/kavia/workspace/code-generation/stock-management-system-49179-49188/stock_backend/src/api/utils.py", "pattern": "/^oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/login\")$/", "language": "Python", "kind": "variable"}], "hash": "a943c8f39ed1206838bc40e57d92560f", "format-version": 4, "code-base-name": "stock_backend", "filename": "stock_backend/src/api/utils.py", "fields": [{"name": "ADMIN_PASSWORD = \"admin\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ADMIN_SESSIONS = {}  # token: username", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "ADMIN_USERNAME = \"admin\"", "scope": "", "scopeKind": "", "description": "unavailable"}, {"name": "oauth2_scheme = OAuth2PasswordBearer(tokenUrl=\"\\/login\")", "scope": "", "scopeKind": "", "description": "unavailable"}], "revision_history": [{"24": ""}]}